# 二元期权后台管理系统功能需求（完善版）

> 本文档梳理后台管理系统的核心功能，适用于后台开发、产品、测试等角色查阅。结合《后端项目结构设计.md》最新数据表与业务模块，补充风控、配置、归档等管理需求。

## 目录
1. 权限管理系统
2. 二元期权交易相关核心功能
   2.1 交易用户管理
   2.2 交易品类管理
   2.3 订单记录管理
   2.4 统计分析
   2.5 风控与黑名单管理
   2.6 全局配置管理

---

## 1. 权限管理系统
- 采用开源权限管理系统（如Casbin、RBAC等），支持多角色、多用户、菜单/接口权限分配。
- 支持操作日志、权限变更记录、管理员账号管理。
- 该部分暂不详细设计，后续可直接集成。

---

## 2. 二元期权交易相关核心功能

### 2.1 交易用户管理
- 用户列表（支持搜索、筛选、分页，黑名单状态可在用户列表直接标注）
- 用户详情（基本信息、账户余额、历史订单、风控状态、黑名单状态）
- 用户状态管理（启用/禁用、风控标记、重置模拟资金、加入/移除黑名单等）
- 用户资金流水查询（转入、转出、划转、奖励、手续费等）
- 用户风控事件查询（如限额触发、异常下单、频繁撤单等）

### 2.2 交易品类管理
- 品类列表（如BTC/USDT、ETH/USDT等）
- 新增/编辑/删除品类（支持后续扩展更多币对）
- 品类参数配置（最小/最大投注、回合时长、手续费率、赔率、精度、可见性、排序、展示名等）
- 交易周期管理（支持多周期配置与开关）
- 品类维度风控限额配置（如最大单笔/单日投注额等）

### 2.3 订单记录管理
- 订单列表（支持多条件筛选：用户、品类、币对、周期、时间、状态、回合编号等）
- 订单详情（交易品类、币对、周期、用户、数量、开仓价格、到期结算价、订单状态、创建时间、结算时间、收益、手续费、回合编号、撤单时间等）
- 订单导出（Excel/CSV）
- 历史订单归档查询（支持跨表检索归档订单）

### 2.4 统计分析
- 用户维度统计（单用户累计投注、盈亏、活跃度等）
- 单个交易品类维度统计（如BTC/USDT的总投注、总盈亏、用户数等）
- 所有交易品类汇总统计（平台整体数据总览）
- 支持按日/周/月/自定义时间段统计
- 统计结果可视化（图表/报表）
- 用户日活/留存统计、资金流水分类型统计

### 2.5 风控与黑名单管理
- 风控事件日志查询（如限额触发、异常下单、频繁撤单等）
- 用户黑名单管理（拉黑/移除、原因记录、黑名单列表）
- 风控规则参数配置与调整

### 2.6 全局配置管理
- 全局配置项管理（如config_kv表，支持key-value配置、参数说明、修改记录）
- 重要参数变更需记录操作日志
- 全局/用户维度风控限额配置（如全平台最大单笔/单日投注额、用户特殊限额等）
- 建议key命名规则：
  - 全局限额：risk_limit.global.max_bet、risk_limit.global.max_daily_bet
  - 用户限额：risk_limit.user.{userId}.max_bet、risk_limit.user.{userId}.max_daily_bet

---