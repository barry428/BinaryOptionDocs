# 二元期权平台产品需求与范围说明（更新版）

> 本文档为本项目的权威需求与范围说明，包含项目背景、功能范围、MVP边界、主要流程、术语等，适用于产品、研发、测试、项目管理等全员查阅。

## 目录
1. 项目背景与目标
2. 功能范围（含MVP范围）
3. 不包含内容
4. 范围变更机制
5. 主要用户流程
6. 关键术语
7. 参考资料

---

## 1. 项目背景与目标
- 本项目为基于BTSE交易所的加密货币二元期权交易平台，面向全球数字资产用户，提供极简、透明、公平的二元期权交易体验。
- 目标：打造支持多币种、多时长、实盘/模拟账户隔离、自动结算、国际化、响应式适配的MVP平台。
- 成功指标：MVP阶段实现BTC/USDT 5分钟回合实盘与模拟交易，系统稳定、结算准确、用户体验流畅，具备后续多币种/多时长扩展能力。

## 2. 功能范围（含MVP范围）
- 支持多币种/多时长（MVP仅开放BTC/USDT和5分钟回合，其他币种和时长功能开发预留但暂不开放）。
- 实盘与模拟两套账户体系，前后端均需适配。
- 多交易所价格聚合，自动结算与实时到账。
- 订单管理、历史记录、PNL统计、后台管理、国际化、响应式适配。
- 主要功能点：
  - 用户系统打通（主要为后端对接，涉及联调工作，支持external_id映射）
  - 资产选择组件（多币种UI、币种切换逻辑、国际化）
  - 实盘/模拟切换（账户切换、余额校验、UI适配）
  - 5分钟倒计时组件（精准倒计时、回合切换、UI适配）
  - 实时K线图展示（6小时历史、1秒刷新、WebSocket推送）
  - 当前价格/盘口展示（多交易所聚合、盘口/赔率、UI）
  - UP/DOWN按钮（投注方向、交互、风控校验）
  - 金额输入与快捷按钮（25/50/75/100%、手动输入、风控）
  - 投注确认弹窗（预期收益、倍率、二次确认）
  - 余额显示与校验（实盘/模拟余额、风控、UI）
  - 当前投注列表（本回合投注，实时刷新）
  - 资金池/赔率展示（总奖池、UP/DOWN比例、倍率）
  - 结算结果提示（胜/负/平，动画，国际化）
  - 个人投注历史、公共回合结果、PNL盈亏统计
  - 投注限额设置、风险偏好配置、虚拟账户管理（余额重置）
  - 响应式布局（PC/移动端适配）、多语言切换与国际化适配
  - 管理后台（用户、品类、订单、统计、权限、国际化、风控、黑名单、全局配置、分表归档、分环境等）
  - 风控限额配置、风控事件日志、用户黑名单管理
  - 全局配置项管理（key-value）、重要参数变更日志
  - 订单、资金流水等大表的分表归档与归档表只读查询
  - 多环境（生产、预发布、测试）配置与系统信息展示

## 3. 后续可以考虑的附加内容
- 高级风控（如止损止盈、自动平仓等）
- 社交娱乐（如跟单、排行榜、社区等）
- 任务系统、积分激励、空投奖励等
- 多终端APP（MVP仅Web端）
- 法币充值/提现、第三方支付
- 保险基金、赔付机制
- 其他币种/时长的实际开放（仅预留接口和UI）

## 4. 范围变更机制
- 任何功能范围调整需经产品、研发、项目管理三方评审确认，并在本文件中记录。
- 变更内容需注明变更时间、责任人、变更原因及影响评估。
- 重大变更需同步至项目计划和工时评估文档。

## 5. 主要用户流程
1. 用户通过平台入口访问，选择BTC/USDT交易对，进入交易主界面。
2. 切换实盘/模拟账户，系统自动校验余额及风控。
3. 选择回合时长（MVP仅5分钟），查看实时K线、盘口、赔率。
4. 输入投注金额，选择UP或DOWN，确认下单。
5. 等待回合结束，系统自动结算，展示结果及盈亏。
6. 用户可在历史记录页面查看个人投注、PNL统计。
7. 可在个人设置中调整限额、风险偏好、重置模拟余额。
8. 后台管理可对用户、品类、订单、统计、风控、黑名单、全局配置、归档数据、环境信息等进行维护和分析。

## 6. 关键术语
- 二元期权：到期时根据标的价格涨跌结果获得固定收益或损失的金融衍生品。
- 回合：每5分钟为一个交易周期，用户可在回合内下单，回合结束后统一结算。
- 实盘账户：与BTSE主账户对接的真实资金账户。
- 模拟账户：平台内虚拟资金账户，仅用于体验和测试。
- 盘口/赔率：根据实时资金池和投注方向动态计算的赔率，用于结算。
- PNL：Profit and Loss，盈亏统计。
- 风控：对用户下单、资金、结算等环节的风险管理措施，包括限额、黑名单、风控事件等。
- 黑名单：被平台限制交易或登录的用户名单。
- 全局配置：平台级参数配置，支持动态调整。
- 分表归档：对大表（如订单、流水）按月归档，提升性能。
- 多环境：生产、预发布、测试等环境的独立配置与管理。

## 7. 参考资料
- 客户需求文档、Figma原型、竞品分析、BTSE API文档、团队会议纪要、后端项目结构设计、后台管理需求等。 